(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{414:function(a,e,t){"use strict";t.r(e);var s=t(49),n=Object(s.a)({},(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"musig-module-tutorial"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#musig-module-tutorial"}},[a._v("#")]),a._v(" Musig Module Tutorial")]),a._v(" "),t("h2",{attrs:{id:"installation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[a._v("#")]),a._v(" Installation")]),a._v(" "),t("p",[a._v("MuSig is currently only available on MacOS and Linux operating systems.")]),a._v(" "),t("p",[a._v("Please check with the Komodo team on "),t("a",{attrs:{href:"https://komodoplatform.com/discord",target:"_blank",rel:"noopener noreferrer"}},[a._v("Discord"),t("OutboundLink")],1),a._v(" for information regarding Windows functionality.")]),a._v(" "),t("h3",{attrs:{id:"install-dependencies"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#install-dependencies"}},[a._v("#")]),a._v(" Install Dependencies")]),a._v(" "),t("p",[a._v("Ensure that local repositories are up to date:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" update "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&&")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" upgrade -y\n")])])]),t("p",[a._v("Install Dependencies:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("apt-get")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" build-essential pkg-config libc6-dev m4 g++-multilib autoconf libtool ncurses-dev "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("unzip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" python zlib1g-dev "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" bsdmainutils automake libboost-all-dev libssl-dev libprotobuf-dev protobuf-compiler libgtest-dev libqt4-dev libqrencode-dev libdb++-dev ntp ntpdate software-properties-common "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("curl")]),a._v(" libcurl4-gnutls-dev cmake clang libsodium-dev -y\n")])])]),t("h3",{attrs:{id:"build-instructions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#build-instructions"}},[a._v("#")]),a._v(" Build instructions")]),a._v(" "),t("p",[a._v("Build "),t("code",[a._v("komodod")]),a._v(" by executing the following series of commands. Each line should be executed separately:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" clone https://github.com/jl777/komodo\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" komodo\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout jl777\n./zcutil/fetch-params.sh\n./zcutil/build.sh -j"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("nproc"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),t("p",[a._v("Compile the appropriate library:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" src/cc\n./makecclib\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" sudokucc.so "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/libcc.so\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" -j"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("nproc"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),t("h3",{attrs:{id:"update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[a._v("#")]),a._v(" Update")]),a._v(" "),t("p",[a._v("Update the "),t("code",[a._v("komodod")]),a._v(" daemon by executing the following series of commands. Each line should be executed separately:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" komodo\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" checkout jl777\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("git")]),a._v(" pull\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" src/cc\n./makecclib\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("..")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("make")]),a._v(" -j"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),a._v("nproc"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("\n")])])]),t("h3",{attrs:{id:"launch-the-smart-chain"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#launch-the-smart-chain"}},[a._v("#")]),a._v(" Launch the Smart Chain")]),a._v(" "),t("p",[a._v("Change into the "),t("code",[a._v("~/komodo/src")]),a._v(" directory:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/komodo/src\n")])])]),t("p",[a._v("Launch the MuSig Smart Chain using the following launch parameters.")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodod -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG -ac_supply"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("100000")]),a._v(" -ac_reward"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10000000")]),a._v(" -pubkey"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("yourpub"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" -ac_cclib"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("sudoku -ac_cc"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(" -addnode"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("5.9")]),a._v(".102.210 "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("\n")])])]),t("h3",{attrs:{id:"obtain-a-pubkey"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#obtain-a-pubkey"}},[a._v("#")]),a._v(" Obtain a Pubkey")]),a._v(" "),t("p",[a._v("Without a pubkey, the MuSig Smart Chain will not function properly on the user's local machine. Follow these instruction for obtaining and setting a pubkey:")]),a._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/basic-docs/antara/antara-tutorials/understanding-antara-addresses.html#creating-and-launching-with-a-pubkey"}},[a._v("Instructions for obtaining and setting a pubkey")])],1)]),a._v(" "),t("p",[a._v("Once the Smart Chain is relaunched with the new pubkey included as a launch parameter, the MuSig Smart Chain is prepared for use.")]),a._v(" "),t("h3",{attrs:{id:"acquire-funds-for-testing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#acquire-funds-for-testing"}},[a._v("#")]),a._v(" Acquire Funds for Testing")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("Note")]),a._v(" "),t("p",[a._v("The reader should launch the Smart Chain with a pubkey whose private key is already imported to the wallet. If this is not the case, restart the Smart Chain with an appropriate pubkey, or use the "),t("RouterLink",{attrs:{to:"/basic-docs/smart-chains/smart-chain-api/wallet.html#importprivkey"}},[a._v("importprivkey")]),a._v(" method to import the private key of the desired pubkey.")],1)]),a._v(" "),t("p",[a._v("The MuSig Smart Chain has an available faucet. The faucet allows a user to obtain a nominal amount of funds for testing and orientation purposes.")]),a._v(" "),t("p",[a._v("Ensure that the terminal's working directory is in the "),t("code",[a._v("~/komodo/src")]),a._v(" directory:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("cd")]),a._v(" ~/komodo/src\n")])])]),t("p",[a._v("Execute the "),t("code",[a._v("faucetget")]),a._v(" method:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG faucetget\n")])])]),t("p",[a._v("This method returns a hex value in the terminal. Select the entire hex value and copy it to the clipboard. (Use "),t("code",[a._v("CTRL + SHFT + C")]),a._v(" to copy within the terminal)")]),a._v(" "),t("p",[a._v("Broadcast the hex value using the "),t("code",[a._v("sendrawtransaction")]),a._v(" method:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG sendrawtransaction "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("hex copied from the above response"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),t("p",[a._v("Wait for the transaction to be confirmed.")]),a._v(" "),t("p",[a._v("Once the broadcast transaction is confirmed, check the balance using the "),t("code",[a._v("getbalance")]),a._v(" method:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG getbalance\n")])])]),t("p",[a._v("There should be a small amount of funds in the balance.")]),a._v(" "),t("h2",{attrs:{id:"full-example"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#full-example"}},[a._v("#")]),a._v(" Full Example")]),a._v(" "),t("p",[a._v("The aim of this example is to create a "),t("code",[a._v("20f2")]),a._v(" MuSig pubkey, fund it, and spend from it.")]),a._v(" "),t("p",[a._v("To accomplish this, two nodes are necessary.")]),a._v(" "),t("p",[a._v("In this MuSig example we use the following pubkeys on our two nodes:")]),a._v(" "),t("ul",[t("li",[a._v("Node1's daemon is launched using the pubkey: "),t("code",[a._v("0225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270a")])]),a._v(" "),t("li",[a._v("Node2's daemon is launched using the pubkey: "),t("code",[a._v("02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567")])])]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("EVALCODE")]),a._v(" for the MuSig module is "),t("code",[a._v("18")]),a._v(".")]),a._v(" "),t("p",[a._v("For this example, we use "),t("RouterLink",{attrs:{to:"/basic-docs/smart-chains/smart-chain-api/cclib.html#cclib-formatting"}},[a._v("the normal array formatting for cclib methods")]),a._v(", as we are not creating a bash script.")],1),a._v(" "),t("p",[a._v("Steps 1 through 5 and 11 through 12 need to be executed only on the first node.")]),a._v(" "),t("h4",{attrs:{id:"step-1-combine"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-1-combine"}},[a._v("#")]),a._v(" Step 1: combine")]),a._v(" "),t("p",[a._v("Use the "),t("RouterLink",{attrs:{to:"/basic-docs/antara/antara-api/musig.html#combine"}},[a._v("combine")]),a._v(" method to create a "),t("code",[a._v("combined_pk")]),a._v(" address:")],1),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib combine "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["0225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270a","02d3431950c2f0f9654217b6ce3d44468d3a9ca7255741767fdeee7c5ec6b47567"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"pkhash"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combined_pk"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the values of "),t("code",[a._v("pkhash")]),a._v(" and "),t("code",[a._v("combined_pk")]),a._v(" and save them in a secure location for later use.")]),a._v(" "),t("h4",{attrs:{id:"step-2-send"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-2-send"}},[a._v("#")]),a._v(" Step 2: send")]),a._v(" "),t("p",[a._v("Use the "),t("RouterLink",{attrs:{to:"/basic-docs/antara/antara-api/musig.html#send"}},[a._v("send")]),a._v(" method to send "),t("code",[a._v("1")]),a._v(" coin to the "),t("code",[a._v("combined_pk")]),a._v(" address:")],1),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG  cclib send "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'[\"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a\",1]'")]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0400008085202f890b02b1bdd8707f82bc6f4cdeb4756eb04dfc3cc7a4b5ac38a388c0205cf8f31a0e0000000048473044022004de31b5132f03f761fc0d0d9761efbf77bb27b07ee99f2cc54928e2150f1f16022069381b36bb9839cc9cb3e1d584e00dbd52efadf7e2f3fa092e0bcca839cdce6801ffffffff04949d5bf1722c5df04f58cf2c7e662f32ab65de2f7990ce4c734df4f2991eb60000000049483045022100ab3ab2bb95ef095763dd3eeb56961d1234aa25efd91a30fa14e397717368e6a0022048d7f8268463cfb44f34467bd77eb2aee962eaec09a079741c75c5de898b4f6c01ffffffff0476a06188887bf93bec4e64a3a5681b5e271cb7055a11d0667dc565e498b6190000000048473044022022ef03c33b5942b1af16f7e4a9acd2aa485d73f6f6b5e0a01e15f70238cd85cd022063779c69511ee4eba179b40ce28d80da22d43f19110be2a9a97d0b47d6a5cca201ffffffff045587699381853735482dbfb1fe25dda8d5a7a238c05b872ecfcd97be38232f00000000484730440220051e6047dd9e82b004c29a2837bf127f94caa638c65d96c761371c18ff36170002204e73ddfbbe748f295d7a93e46d942618f291d302b7a666b78b49ab38594a89ac01ffffffff0426d8098ed0c5ee19ac8d4254ec9887ab7a231c68a8d9b024a50f417f0a94ff0000000049483045022100ebd193262a04f8c9cf1872527d2a7d4933222f8ce8ea11add90e263c483ca56a02204a29902ae6b31dc41f84b5ffad3b2076755ad19f25be47479704b2ab5e37463a01ffffffff040e294b76ca4492909b75b829566b3702b35245595e8c4806b7ef6a7f612dd6000000004847304402201573d230af50aa6d326b607ac6ba77bb15c1a143256e5141197ce6729195b0e602201301be6ad22ba5599597205cdfb7e2cf6823ce4597e5b902b6d4336958e0fbe101ffffffff03d9a453070627c94d940f57b40829713ee6b6bce4d801e591117c801221225900000000494830450221009d5eec551265274ade816fdb3a0dfee20e716a7d3f56155b698a9d0c41ccd11202202e811c4611ebf982b34db8a43002c759c54a077023ced1498421c4af2b12a0f901ffffffff03ce7cb872bdfdf264576c45ed899c00731959051cade1a19b088eabc02e07780000000049483045022100a9c8c795e34a393fafb839ef4bbf11e4adf04b4c8a8493ef0bd2353e7a1ddd430220251ff7eb5ca3d2ed4ee4145906532af803caaed756ff3d21e86ac4876333067e01ffffffff030d66186013342f71335bc67d0d87240b4a27809e67ba55e01dd72e7ae1b0af0000000049483045022100d4c82867562aa040a7695ffd53056018e0dc3a071d971b3774cdb8511b0f49aa022029b72c5af1b9c16e27d81827d478910ec3135415037cf2b3492922ff618538bc01ffffffff02f9b92abfa0324272e0ce465b856e6d9b53e3e2e0828934c8a0c8c2c10e67d5000000004847304402205df4c99c581bfe95ea95740320b16c423531663b42e25b97315d3126250c24a202206dff5da29fbb0fe21ae6ce3da7bac1e502feb8fdd7b803c0fafa6541e80ec0ff01ffffffff02bd8679e8383e6d9c4a10917b68b8918ed3f518fe2deef5b23e0012461fbf370000000049483045022100a04210427173ea0721f3cf859b99328c8e234ba39250c033aebfb37fb2c5a1d502200d5cb16ed0dccc5dfc0385a8763340cf98a162e863994069354a5fee187b8bd401ffffffff031008f60500000000302ea22c8020c71ddb3aac7f9b9e4bdacf032aaa8b8e4433c4ff9f8a43cebb9c1f5da96928a48103120c008203000401cc604898000000000023210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac0000000000000000266a2412782103d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a000000003f0800000000000000000000000000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"09daa45cb6e17028f9568347291a993cbf29c152a527b53e9ac0925d4900c293"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("hex")]),a._v(" value to your clipboard.")]),a._v(" "),t("h4",{attrs:{id:"step-3-broadcast-the-hex-value-and-retrieve-the-sendtxid"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-3-broadcast-the-hex-value-and-retrieve-the-sendtxid"}},[a._v("#")]),a._v(" Step 3: Broadcast the hex Value and Retrieve the sendtxid")]),a._v(" "),t("p",[a._v("Use the "),t("RouterLink",{attrs:{to:"/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#sendrawtransaction"}},[a._v("sendrawtransaction")]),a._v(" method to broadcast the raw hex value:")],1),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG  sendrawtransaction 0400008085202f890b02b1bdd8707f82bc6f4cdeb4756eb04dfc3cc7a4b5ac38a388c0205cf8f31a0e0000000048473044022004de31b5132f03f761fc0d0d9761efbf77bb27b07ee99f2cc54928e2150f1f16022069381b36bb9839cc9cb3e1d584e00dbd52efadf7e2f3fa092e0bcca839cdce6801ffffffff04949d5bf1722c5df04f58cf2c7e662f32ab65de2f7990ce4c734df4f2991eb60000000049483045022100ab3ab2bb95ef095763dd3eeb56961d1234aa25efd91a30fa14e397717368e6a0022048d7f8268463cfb44f34467bd77eb2aee962eaec09a079741c75c5de898b4f6c01ffffffff0476a06188887bf93bec4e64a3a5681b5e271cb7055a11d0667dc565e498b6190000000048473044022022ef03c33b5942b1af16f7e4a9acd2aa485d73f6f6b5e0a01e15f70238cd85cd022063779c69511ee4eba179b40ce28d80da22d43f19110be2a9a97d0b47d6a5cca201ffffffff045587699381853735482dbfb1fe25dda8d5a7a238c05b872ecfcd97be38232f00000000484730440220051e6047dd9e82b004c29a2837bf127f94caa638c65d96c761371c18ff36170002204e73ddfbbe748f295d7a93e46d942618f291d302b7a666b78b49ab38594a89ac01ffffffff0426d8098ed0c5ee19ac8d4254ec9887ab7a231c68a8d9b024a50f417f0a94ff0000000049483045022100ebd193262a04f8c9cf1872527d2a7d4933222f8ce8ea11add90e263c483ca56a02204a29902ae6b31dc41f84b5ffad3b2076755ad19f25be47479704b2ab5e37463a01ffffffff040e294b76ca4492909b75b829566b3702b35245595e8c4806b7ef6a7f612dd6000000004847304402201573d230af50aa6d326b607ac6ba77bb15c1a143256e5141197ce6729195b0e602201301be6ad22ba5599597205cdfb7e2cf6823ce4597e5b902b6d4336958e0fbe101ffffffff03d9a453070627c94d940f57b40829713ee6b6bce4d801e591117c801221225900000000494830450221009d5eec551265274ade816fdb3a0dfee20e716a7d3f56155b698a9d0c41ccd11202202e811c4611ebf982b34db8a43002c759c54a077023ced1498421c4af2b12a0f901ffffffff03ce7cb872bdfdf264576c45ed899c00731959051cade1a19b088eabc02e07780000000049483045022100a9c8c795e34a393fafb839ef4bbf11e4adf04b4c8a8493ef0bd2353e7a1ddd430220251ff7eb5ca3d2ed4ee4145906532af803caaed756ff3d21e86ac4876333067e01ffffffff030d66186013342f71335bc67d0d87240b4a27809e67ba55e01dd72e7ae1b0af0000000049483045022100d4c82867562aa040a7695ffd53056018e0dc3a071d971b3774cdb8511b0f49aa022029b72c5af1b9c16e27d81827d478910ec3135415037cf2b3492922ff618538bc01ffffffff02f9b92abfa0324272e0ce465b856e6d9b53e3e2e0828934c8a0c8c2c10e67d5000000004847304402205df4c99c581bfe95ea95740320b16c423531663b42e25b97315d3126250c24a202206dff5da29fbb0fe21ae6ce3da7bac1e502feb8fdd7b803c0fafa6541e80ec0ff01ffffffff02bd8679e8383e6d9c4a10917b68b8918ed3f518fe2deef5b23e0012461fbf370000000049483045022100a04210427173ea0721f3cf859b99328c8e234ba39250c033aebfb37fb2c5a1d502200d5cb16ed0dccc5dfc0385a8763340cf98a162e863994069354a5fee187b8bd401ffffffff031008f60500000000302ea22c8020c71ddb3aac7f9b9e4bdacf032aaa8b8e4433c4ff9f8a43cebb9c1f5da96928a48103120c008203000401cc604898000000000023210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac0000000000000000266a2412782103d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a000000003f0800000000000000000000000000\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("09daa45cb6e17028f9568347291a993cbf29c152a527b53e9ac0925d4900c293\n")])])])]),a._v(" "),t("p",[a._v("The returned value is our "),t("code",[a._v("sendtxid")]),a._v(". Copy this to a secure location for later use.")]),a._v(" "),t("h4",{attrs:{id:"step-4-obtain-the-change-script-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-4-obtain-the-change-script-value"}},[a._v("#")]),a._v(" Step 4: Obtain the change_script Value")]),a._v(" "),t("p",[a._v("Use the "),t("RouterLink",{attrs:{to:"/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#getrawtransaction"}},[a._v("getrawtransaction")]),a._v(" method to decode the raw transaction.")],1),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG getrawtransaction 09daa45cb6e17028f9568347291a993cbf29c152a527b53e9ac0925d4900c293 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v("\n")])])]),t("p",[a._v("In the response there are a series of "),t("code",[a._v("vout")]),a._v(" values, each of which has an array of json objects. Search for the "),t("code",[a._v("vout")]),a._v(" value that has the "),t("code",[a._v('"type":"pubkey"')]),a._v(" key pair listed. In this object, retrieve the "),t("code",[a._v("hex")]),a._v(" value from the "),t("code",[a._v("scriptPubkey")]),a._v(":")]),a._v(" "),t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[a._v("\n... (omitted for brevity) ...\n\n"),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"vout"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n\n    ... (omitted for brevity) ...\n\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"value"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.09980000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"valueSat"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("9980000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"n"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"scriptPubKey"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"asm"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270a OP_CHECKSIG"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"reqSigs"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"type"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"pubkey"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"addresses"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"RUfCUd3UryKJ49baQvSuAs42wakNunvvfT"')]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n\n    ... (omitted for brevity) ...\n\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n\n... (omitted for brevity) ...\n\n")])])]),t("p",[a._v("This "),t("code",[a._v("hex")]),a._v(" is our "),t("code",[a._v("change_script")]),a._v(" value. Save this to a secure location for later use.")]),a._v(" "),t("h4",{attrs:{id:"step-5-calcmsg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-5-calcmsg"}},[a._v("#")]),a._v(" Step 5: calcmsg")]),a._v(" "),t("p",[a._v("Use the "),t("code",[a._v("calcmsg")]),a._v(" method to calculate the "),t("code",[a._v("msg")]),a._v(" value. The "),t("code",[a._v("calcmsg")]),a._v(" method needs the "),t("code",[a._v("sendtxid")]),a._v(" and "),t("code",[a._v("change_script")]),a._v(" values retrieved from previous commands.")]),a._v(" "),t("p",[t("strong",[a._v('cclib calcmsg 18 \'["insert_sendtxid_here","insert_change_script_here"]\'')])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG  cclib calcmsg "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["09daa45cb6e17028f9568347291a993cbf29c152a527b53e9ac0925d4900c293","210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("msg")]),a._v(" value to a secure location for later use.")]),a._v(" "),t("h4",{attrs:{id:"step-6-session"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-6-session"}},[a._v("#")]),a._v(" Step 6: session")]),a._v(" "),t("p",[a._v("From this point forward, all steps should be executed on both nodes 1 and 2.")]),a._v(" "),t("p",[a._v("After each step performed on each node, copy the relevant data to the opposing node.")]),a._v(" "),t("h5",{attrs:{id:"node-1"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("The following "),t("code",[a._v("session")]),a._v(" command requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("ind")]),a._v(": the index of the signatory in the set. In this example our current node, Node 1, is "),t("code",[a._v("0")])]),a._v(" "),t("li",[t("code",[a._v("numsigners")]),a._v(": the number of pubkeys participating in the multi-signature transaction")]),a._v(" "),t("li",[t("code",[a._v("combined_pk")]),a._v(": the "),t("code",[a._v("combined_pk")]),a._v(" address, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("pkhash")]),a._v(": the "),t("code",[a._v("pkhash")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("msg")]),a._v(": the "),t("code",[a._v("msg")]),a._v(" to be signed, retrieved previously")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib session "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'[0,2,"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a","8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9","3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"numsigners"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"commitment"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"a886a3a3c57efec161f6f72554b66f837de89ffdabe0acc46ae4cd59aab8129e"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the value of "),t("code",[a._v("commitment")]),a._v(" both to a secure location and to Node 2.")]),a._v(" "),t("h5",{attrs:{id:"node-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("Execute the same command as before, only change the "),t("code",[a._v("ind")]),a._v(" value from "),t("code",[a._v("0")]),a._v(" to "),t("code",[a._v("1")]),a._v(" to indicate Node 2.")]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib session "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'[1,2,"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a","8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9","3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"numsigners"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"commitment"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"2854473733147ebdbf2fb70b956c8086c9d7659ca0093627fe0371098f8bc003"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("commitment")]),a._v(" value both to a secure location and to Node 1.")]),a._v(" "),t("h4",{attrs:{id:"step-7-commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-7-commit"}},[a._v("#")]),a._v(" Step 7: commit")]),a._v(" "),t("h5",{attrs:{id:"node-1-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-2"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("commit")]),a._v(" method requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("pkhash")]),a._v(": the "),t("code",[a._v("pkhash")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("ind")]),a._v(": the index of the opposite node. In our example, Node 2 is "),t("code",[a._v("1")])]),a._v(" "),t("li",[t("code",[a._v("commitment")]),a._v(": the "),t("code",[a._v("commitment")]),a._v(" value from the opposing node")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib commit "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",1,"2854473733147ebdbf2fb70b956c8086c9d7659ca0093627fe0371098f8bc003"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"nonce"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0379f6f42cf4c2cb30d064a6cac22ab6ffb3d93388d49b07f0623ff9bc8d191f89"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("nonce")]),a._v(" value both to a secure location and to Node 2.")]),a._v(" "),t("h5",{attrs:{id:"node-2-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2-2"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("Execute the same command as before, only change the value of "),t("code",[a._v("ind")]),a._v(" to "),t("code",[a._v("0")]),a._v(" to indicate Node 1.")]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib commit "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",0,"a886a3a3c57efec161f6f72554b66f837de89ffdabe0acc46ae4cd59aab8129e"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"nonce"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"02402fe26abd7ed2cf22d872a6b22ced4309aac8ec273b9c89e0f8f5b77f1574db"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("nonce")]),a._v(" value both to a secure location and to Node 1.")]),a._v(" "),t("h4",{attrs:{id:"step-8-nonce"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-8-nonce"}},[a._v("#")]),a._v(" Step 8: nonce")]),a._v(" "),t("h5",{attrs:{id:"node-1-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-3"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("nonce")]),a._v(" method requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("pkhash")]),a._v(": the "),t("code",[a._v("pkhash")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("ind")]),a._v(": the index of the opposing node. In our example, the index of Node 2 is "),t("code",[a._v("1")]),a._v(".")]),a._v(" "),t("li",[t("code",[a._v("nonce")]),a._v(": the "),t("code",[a._v("nonce")]),a._v(" from the opposing node")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib nonce "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",1,"02402fe26abd7ed2cf22d872a6b22ced4309aac8ec273b9c89e0f8f5b77f1574db"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"partialsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"dc913a9e7532c8edf2f822f482afdcf48c61919bf905fb77f6684a2d7e58d972"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("partialsig")]),a._v(" value both to a secure location and to Node 2.")]),a._v(" "),t("h5",{attrs:{id:"node-2-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2-3"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("Execute the same command, only change the "),t("code",[a._v("ind")]),a._v(" value to "),t("code",[a._v("0")]),a._v(" to indicate Node 1, and change the "),t("code",[a._v("nonce")]),a._v(" to the value retrieved from Node 1.")]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib nonce "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",0,"0379f6f42cf4c2cb30d064a6cac22ab6ffb3d93388d49b07f0623ff9bc8d191f89"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"myind"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"partialsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"9e964dfd402f973ea1e9407e19918b1c3897ff6544d60dcdb19cfb0e5bc4c0c1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("partialsig")]),a._v(" value both to a secure location and to Node 1.")]),a._v(" "),t("h4",{attrs:{id:"step-9-partialsig"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-9-partialsig"}},[a._v("#")]),a._v(" Step 9: partialsig")]),a._v(" "),t("h5",{attrs:{id:"node-1-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-4"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("partialsig")]),a._v(" method requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("pkhash")]),a._v(": the "),t("code",[a._v("pkhash")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("ind")]),a._v(": the index of the opposing node. In our example, the index of Node 2 is "),t("code",[a._v("1")])]),a._v(" "),t("li",[t("code",[a._v("partialsig")]),a._v(": the "),t("code",[a._v("partialsig")]),a._v(" retrieved from the opposing node")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib partialsig "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",1,"9e964dfd402f973ea1e9407e19918b1c3897ff6544d60dcdb19cfb0e5bc4c0c1"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combinedsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("combinedsig")]),a._v(" value both to a secure location and to Node 2.")]),a._v(" "),t("h5",{attrs:{id:"node-2-4"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2-4"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("Execute the same command, but change the "),t("code",[a._v("ind")]),a._v(" value to "),t("code",[a._v("0")]),a._v(" to indicate Node 1, and change the "),t("code",[a._v("partialsig")]),a._v(" to the value retrieved from Node 1 previously.")]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib partialsig "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["8897e150bfb07d3f967ffadb4b0f3c84ea73a94c0d715c4b7e6d9c816c5113a9",0,"dc913a9e7532c8edf2f822f482afdcf48c61919bf905fb77f6684a2d7e58d972"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"added_index"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combinedsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("combinedsig")]),a._v(" value to a secure location.")]),a._v(" "),t("p",[a._v("If the values of "),t("code",[a._v("combinedsig")]),a._v(" produced by both nodes is the same, then you have followed the example without any errors to this point. Visually verify that this "),t("code",[a._v("combinedsig")]),a._v(" value matches with the "),t("code",[a._v("combinedsig")]),a._v(" value returned on Node 1.")]),a._v(" "),t("h4",{attrs:{id:"step-10-verify"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-10-verify"}},[a._v("#")]),a._v(" Step 10: verify")]),a._v(" "),t("h5",{attrs:{id:"node-1-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-5"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("verify")]),a._v(" method requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("msg")]),a._v(": the "),t("code",[a._v("msg")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("combined_pk")]),a._v(": the "),t("code",[a._v("combined_pk")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("combinedsig")]),a._v(": the "),t("code",[a._v("combinedsig")]),a._v(" value, retrieved previously")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib verify "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603","03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a","4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combined_pk"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combinedsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("h5",{attrs:{id:"node-2-5"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2-5"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("Execute the same command on Node 2.")]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib verify "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603","03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a","4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combined_pk"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combinedsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("The response from both nodes should display a "),t("code",[a._v('"result": "success"')]),a._v(" key pair. If this is not the case, you made an error in a previous step.")]),a._v(" "),t("h4",{attrs:{id:"step-11-spend"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-11-spend"}},[a._v("#")]),a._v(" Step 11: spend")]),a._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[a._v("Note")]),a._v(" "),t("p",[a._v("Currently, each node will output different raw transaction values, as both nodes are attempting to spend funds to their own wallets. Of the two, the node that broadcasts its returned raw transaction value first will receive the coins. The other node does not need to create or broadcast a transaction value.")])]),a._v(" "),t("h5",{attrs:{id:"node-1-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-6"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("We are now prepared to execute the "),t("code",[a._v("spend")]),a._v(" method.")]),a._v(" "),t("p",[a._v("The "),t("code",[a._v("spend")]),a._v(" method requires an array of arguments. The arguments are as follows:")]),a._v(" "),t("ol",[t("li",[t("code",[a._v("sendtxid")]),a._v(": the "),t("code",[a._v("sendtxid")]),a._v(", retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("change_script")]),a._v(": the "),t("code",[a._v("change_script")]),a._v(" value, retrieved previously")]),a._v(" "),t("li",[t("code",[a._v("combinedsig")]),a._v(": the "),t("code",[a._v("combinedsig")]),a._v(" value, retrieved previously")])]),a._v(" "),t("p",[a._v("Command:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG cclib spend "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("18")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('\'["09daa45cb6e17028f9568347291a993cbf29c152a527b53e9ac0925d4900c293","210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac","4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"]\'')]),a._v("\n")])])]),t("collapse-text",{attrs:{hidden:"",title:"Response"}},[t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"msg"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"3ef43614242afd3c57e02a75a3bc99342fea7c731f6190b791c0f99826789603"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combined_pk"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"03d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"combinedsig"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"4b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"hex"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0400008085202f890193c200495d92c09a3eb527a552c129bf3c991a29478356f92870e1b65ca4da09000000007b4c79a276a072a26ba067a5658021032d29d6545a2aafad795d9cf50912ecade549137163934dfb2895ebc0e211ce8a8140878ae4c7520e729e74339e1d463d8aabc1e63c0f726c868adcf7ceab268ef62870596c7c87bdd9382bd364749662ffc79e6ee094a155678b7c2127480960b631a100af03800112a10001ffffffff0200e1f5050000000023210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac0000000000000000686a4c6512792103d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a404b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f200000000460800000000000000000000000000"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"txid"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"332373cd0e4cbdddd3916e827a408ba4a175eb5039cc5a43725a50b83cb74e52"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[a._v('"result"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"success"')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])]),a._v(" "),t("p",[a._v("Copy the "),t("code",[a._v("hex")]),a._v(" value to a secure location.")]),a._v(" "),t("h5",{attrs:{id:"node-2-6"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-2-6"}},[a._v("#")]),a._v(" Node 2")]),a._v(" "),t("p",[a._v("In this example, our desire is to receive the transferred coins on Node 1, not on Node 2.")]),a._v(" "),t("p",[a._v("Therefore, it is not necessary to execute the "),t("code",[a._v("spend")]),a._v(" method again, nor is it necessary for Node 2 to execute the following step.")]),a._v(" "),t("h4",{attrs:{id:"step-12-sendrawtransaction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#step-12-sendrawtransaction"}},[a._v("#")]),a._v(" Step 12: sendrawtransaction")]),a._v(" "),t("h5",{attrs:{id:"node-1-7"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#node-1-7"}},[a._v("#")]),a._v(" Node 1")]),a._v(" "),t("p",[a._v("Broadcast the "),t("code",[a._v("hex")]),a._v(" value using "),t("RouterLink",{attrs:{to:"/basic-docs/smart-chains/smart-chain-api/rawtransactions.html#sendrawtransaction"}},[a._v("sendrawtransaction")]),a._v(":")],1),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("./komodo-cli -ac_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("MUSIG sendrawtransaction "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"0400008085202f890193c200495d92c09a3eb527a552c129bf3c991a29478356f92870e1b65ca4da09000000007b4c79a276a072a26ba067a5658021032d29d6545a2aafad795d9cf50912ecade549137163934dfb2895ebc0e211ce8a81401272d03e011f002a464aa75e8c3d093d45a2c4865b7b334998c8dc2fbaa814c17a2f34c9746d2921483b884d577b86465095ce64a4716b4b5d2f0b578860e149a100af03800112a10001ffffffff0200e1f5050000000023210225f1cbbda1a0c406bb8f6dc7a589d88b2f9e28cd4fdb3f59139f8aff1f5d270aac0000000000000000686a4c6512792103d31479e789014a96ba6dd60d50210045aa8292fe693f293d44615929f04cf57a404b3a9b2b162802bc6c2cca2d22e70ab1cf738a9d4f5692f4f881d0cce0319c137b27889bb562602c94e163729c4168120a4ab41a8e936909e832e6af09e758f200000000470800000000000000000000000000"')]),a._v("\n")])])]),t("p",[a._v("Once the broadcast transaction is mined and notarized, the MuSig transaction is complete.")]),a._v(" "),t("p",[a._v("You have now successfully executed a full cycle of the MuSig module.")])],1)}),[],!1,null,null,null);e.default=n.exports}}]);